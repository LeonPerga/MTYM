'use strict';
var isCallable = require('core-js/internals/is-callable');
var isObject = require('core-js/internals/is-object');
var definePropertyModule = require('core-js/internals/object-define-property');
var getPrototypeOf = require('core-js/internals/object-get-prototype-of');
var wellKnownSymbol = require('core-js/internals/well-known-symbol');
var makeBuiltIn = require('core-js/internals/make-built-in');

var HAS_INSTANCE = wellKnownSymbol('hasInstance');
var FunctionPrototype = Function.prototype;

// `Function.prototype[@@hasInstance]` method
// https://tc39.es/ecma262/#sec-function.prototype-@@hasinstance
if (!(HAS_INSTANCE in FunctionPrototype)) {
  definePropertyModule.f(FunctionPrototype, HAS_INSTANCE, { value: makeBuiltIn(function (O) {
    if (!isCallable(this) || !isObject(O)) return false;
    var P = this.prototype;
    if (!isObject(P)) return O instanceof this;
    // for environment w/o native `@@hasInstance` logic enough `instanceof`, but add this:
    while (O = getPrototypeOf(O)) if (P === O) return true;
    return false;
  }, HAS_INSTANCE) });
}
